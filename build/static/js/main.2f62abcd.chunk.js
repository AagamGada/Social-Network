(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(12),r=n.n(s),o=n(23),l=n(6),i=n(3),u=n.n(i),d=n(7),j=n(4),p=n(10),b=n(15),O={users:[],user:null,authenticated:!1,loading:!0,error:null};function v(e,t){switch(t.type){case"LOGIN_USER":case"FETCH_USER":case"REGISTER_USER":return Object(l.a)(Object(l.a)({},e),{},{authenticated:!0,user:t.payload,loading:!1});case"USERS_LOADED":return Object(l.a)(Object(l.a)({},e),{},{users:t.payload,loading:!1});case"UPDATE_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});case"USER_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.payload});case"LOGOUT_USER":return Object(l.a)(Object(l.a)({},e),{},{authenticated:!1,user:null});default:return e}}var m=n(82),h=n.n(m).a.create({baseURL:"/",headers:{ContentType:"application/json"}});h.interceptors.request.use((function(e){var t=localStorage.getItem("auth-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));var x=h,f=n(1),g=Object(a.createContext)(),N=function(e){var t=Object(p.g)(),n=Object(a.useReducer)(v,O),c=Object(j.a)(n,2),s=c[0],r=c[1],o=localStorage.getItem("auth-token");return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=8;break}return e.next=4,x.get("/api/user/fetch");case 4:n=e.sent,a=n.data,r({type:"FETCH_USER",payload:a.user}),t.push("/Social-Hunt/");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:"USER_ERROR",payload:null===(c=e.t0.response)||void 0===c?void 0:c.data});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),Object(f.jsx)(g.Provider,{value:{userState:s,userDispatch:r},children:e.children})},S=n(16);n(80);function y(){var e=Object(a.useContext)(g).userDispatch,t=Object(p.g)(),n=Object(S.b)().enqueueSnackbar,c=Object(a.useState)({email:"",password:""}),s=Object(j.a)(c,2),r=s[0],i=s[1],O=function(){var a=Object(d.a)(u.a.mark((function a(c){var s,o,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,a.next=4,x.post("/Social-Hunt/api/user/login",r);case 4:s=a.sent,o=s.data,e({type:"LOGIN_USER",payload:o.payload}),l=o.accessToken,localStorage.setItem("auth-token",l),n("Logged in Successfully",{variant:"success"}),t.push("/"),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log(a.t0),n("Invalid login credentials",{variant:"error"});case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}(),v=function(e){i((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"center",children:[Object(f.jsx)("h1",{children:"Login"}),Object(f.jsxs)("form",{method:"post",onSubmit:O,children:[Object(f.jsxs)("div",{className:"txt_field",children:[Object(f.jsx)("input",{type:"text",required:!0,name:"email",onChange:v,value:r.email}),Object(f.jsx)("span",{}),Object(f.jsx)("label",{children:"Email"})]}),Object(f.jsxs)("div",{className:"txt_field",children:[Object(f.jsx)("input",{type:"password",required:!0,name:"password",onChange:v,value:r.password}),Object(f.jsx)("span",{}),Object(f.jsx)("label",{children:"Password"})]}),Object(f.jsx)("input",{type:"submit",value:"Login"}),Object(f.jsxs)("div",{className:"signup_link",children:["Not a member? ",Object(f.jsx)(b.b,{to:"/signup",children:"Signup"})]})]})]})}function k(){var e=Object(S.b)().enqueueSnackbar,t=Object(a.useContext)(g).userDispatch,n=Object(p.g)(),c=Object(a.useState)({email:"",name:"",password:"",repeatPassword:""}),s=Object(j.a)(c,2),r=s[0],i=s[1],O=function(){var a=Object(d.a)(u.a.mark((function a(c){var s,o,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),a.prev=1,r.password===r.repeatPassword){a.next=4;break}return a.abrupt("return",e("Password Doesn't match",{variant:"error"}));case 4:return a.next=6,x.post("/Social-Hunt/api/user/register",r);case 6:s=a.sent,o=s.data,l=o.accessToken,localStorage.setItem("auth-token",l),t({type:"REGISTER_USER",payload:o.payload}),e("Registered Successfully",{variant:"success"}),n.push("/"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),e("Invalid credentials",{variant:"error"});case 18:case"end":return a.stop()}}),a,null,[[1,15]])})));return function(e){return a.apply(this,arguments)}}(),v=function(e){i((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.value))}))};return Object(f.jsxs)("div",{className:"centerR",children:[Object(f.jsx)("h1",{children:"Signup"}),Object(f.jsxs)("form",{method:"post",onSubmit:O,children:[Object(f.jsxs)("div",{className:"txt_field",children:[Object(f.jsx)("input",{type:"text",required:!0,onChange:v,value:r.name,name:"name"}),Object(f.jsx)("span",{}),Object(f.jsx)("label",{children:"Name"})]}),Object(f.jsxs)("div",{className:"txt_field",children:[Object(f.jsx)("input",{type:"text",required:!0,onChange:v,value:r.email,name:"email"}),Object(f.jsx)("span",{}),Object(f.jsx)("label",{children:"Email"})]}),Object(f.jsxs)("div",{className:"txt_field",children:[Object(f.jsx)("input",{type:"password",required:!0,onChange:v,value:r.password,name:"password"}),Object(f.jsx)("span",{}),Object(f.jsx)("label",{children:"Password"})]}),Object(f.jsxs)("div",{className:"txt_field",children:[Object(f.jsx)("input",{type:"password",required:!0,onChange:v,value:r.repeatPassword,name:"repeatPassword"}),Object(f.jsx)("span",{}),Object(f.jsx)("label",{children:"Confirm Password"})]}),Object(f.jsx)("input",{type:"submit",value:"Signup"}),Object(f.jsxs)("div",{className:"signup_link",children:["Already a member? ",Object(f.jsx)(b.b,{to:"/login",children:"Login"})]})]})]})}var w=n(90),C=["component"],D=function(e){var t=e.component,n=Object(w.a)(e,C),c=Object(a.useContext)(g).userState;return Object(f.jsx)(p.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return c.authenticated?Object(f.jsx)(t,Object(l.a)({},e)):Object(f.jsx)(p.a,{to:"/landing"})}}))},E=(n(126),n(63),n(64),n(174)),A=n(69),L={posts:[],post:{},comments:[],likes:[],loading:!0,error:null};function _(e,t){switch(t.type){case"POSTS_LOADED":return Object(l.a)(Object(l.a)({},e),{},{posts:t.payload,loading:!1});case"ADD_POST":return Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(A.a)(e.posts),[t.payload]),loading:!1});case"POST_LOADED":return Object(l.a)(Object(l.a)({},e),{},{post:t.payload,loading:!1});case"POST_UNLOADED":return Object(l.a)(Object(l.a)({},e),{},{post:{},loading:!1});case"POSTS_UNLOADED":return Object(l.a)(Object(l.a)({},e),{},{posts:[],loading:!1});case"POSTS_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.payload});case"COMMENTS_LOADED":return Object(l.a)(Object(l.a)({},e),{},{comments:t.payload});case"POST_COMMENT":return Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(A.a)(e.posts),[t.payload]),loading:!1});case"COMMENTS_UNLOADED":return Object(l.a)(Object(l.a)({},e),{},{comments:[]});case"POST_LOADING":return Object(l.a)(Object(l.a)({},e),{},{loading:t.payload});case"LIKES_LOADED":return Object(l.a)(Object(l.a)({},e),{},{likes:t.payload});default:return e}}var P=Object(a.createContext)(null),T=function(e){var t=Object(a.useReducer)(_,L),n=Object(j.a)(t,2),c=n[0],s=n[1];return Object(f.jsx)(P.Provider,{value:{postState:c,postDispatch:s},children:e.children})},H=(n(45),function(e){var t,n=e.setShowLikes,a=e.allLikes;return Object(f.jsx)("div",{className:"follow",children:Object(f.jsxs)("div",{className:"follow_box",children:[Object(f.jsx)("h5",{className:"text-center",children:"Likes"}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"follow_content",children:Object(f.jsx)("div",{className:"d-flex p-2  w-100 card",children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{onClick:function(){n&&n(!1)},children:null===(t=a[0])||void 0===t?void 0:t.slice(0).map((function(e){return Object(f.jsxs)("div",{className:"d-flex align-items-center mt-3 ",children:[Object(f.jsx)("img",{src:e.user.image,alt:"",className:"big-avatar"}),Object(f.jsxs)("div",{className:"ml-1",style:{transform:"translateY(-2px)"},children:[Object(f.jsx)("span",{className:"d-block",children:e.user.name}),Object(f.jsx)("small",{style:{opacity:.7}})]})]})}))})})})}),Object(f.jsx)("div",{className:"close",onClick:function(){return n(!1)},children:"\xd7"})]})})});function F(e){var t,n,c,s,r,o,i,p,O,v,m=Object(a.useContext)(P).postDispatch,h=Object(a.useContext)(g).userState,N=Object(a.useState)(0),y=Object(j.a)(N,2),k=y[0],w=y[1],C=Object(S.b)().enqueueSnackbar,D=Object(a.useState)(""),A=Object(j.a)(D,2),L=A[0],_=A[1],T=Object(a.useState)(!1),F=Object(j.a)(T,2),I=F[0],R=F[1],B=Object(a.useState)([]),U=Object(j.a)(B,2),M=U[0],z=U[1],q=Object(a.useState)(!1),G=Object(j.a)(q,2),W=G[0],Y=G[1];function V(){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("/Social-Hunt/api/comment/".concat(e.post._id));case 3:n=t.sent,a=n.data,m({type:"COMMENTS_LOADED",payload:a}),w(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function X(){return J.apply(this,arguments)}function J(){return(J=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/post/getUserPost");case 3:t=e.sent,n=t.data,m({type:"POSTS_LOADED",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Q(){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("/Social-Hunt/api/post/getlikes/".concat(e.post._id));case 3:n=t.sent,a=n.data,z([a]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var $=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,""!==L){t.next=4;break}return t.abrupt("return",C("Empty Comment",{variant:"error"}));case 4:return t.next=6,x.post("/Social-Hunt/api/comment/".concat(e.post._id),{comment:L});case 6:a=t.sent,c=a.data,m({type:"POST_COMMENTS",payload:c}),V(),C("Posted Successfully",{variant:"success"}),_(""),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,x.put("/Social-Hunt/api/post/likes/".concat(e.post._id));case 4:c=t.sent,s=c.data,m({type:"POST_LOADED",payload:s}),R(!0),0!==(null===(a=e.post)||void 0===a?void 0:a.likes.filter((function(e){var t;return e.user===(null===(t=h.user)||void 0===t?void 0:t._id)}))).length&&R(!1),X(),Q(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){return V(),Q(),function(){m({type:"COMMENTS_UNLOADED"}),m({type:"POST_UNLOADED"})}}),[]);var te=new Date(null===e||void 0===e||null===(t=e.post)||void 0===t?void 0:t.createdAt).toLocaleString("default",{month:"short"}),ne=null===(n=e.post)||void 0===n?void 0:n.likes.filter((function(e){var t;return e.user===(null===(t=h.user)||void 0===t?void 0:t._id)})),ae=0!==(null===ne||void 0===ne?void 0:ne.length)||I?{htmlColor:"red"}:{htmlColor:"grey"},ce=new Date(null===e||void 0===e||null===(c=e.post)||void 0===c?void 0:c.createdAt).getDate();return Object(f.jsx)("div",{className:"post",style:{background:"white"},children:Object(f.jsxs)("div",{className:"postWrapper",children:[Object(f.jsx)("div",{className:"postTop",children:Object(f.jsxs)("div",{className:"postTopLeft",children:[Object(f.jsx)("img",{className:"postTopImg",src:null===(s=e.post)||void 0===s?void 0:s.user.image,alt:""}),Object(f.jsx)("span",{className:"postUser",children:null===(r=e.post)||void 0===r?void 0:r.user.name}),Object(f.jsx)("span",{className:"postDate",children:"".concat(te," ").concat(ce)})]})}),Object(f.jsxs)("div",{className:"postCenter",children:[Object(f.jsx)("span",{className:"text",children:null===(o=e.post)||void 0===o?void 0:o.content}),(null===(i=e.post)||void 0===i?void 0:i.image)&&Object(f.jsx)("img",{src:null===(p=e.post)||void 0===p?void 0:p.image,alt:"",className:"postImg"})]}),Object(f.jsxs)("div",{className:"postBottom",children:[Object(f.jsxs)("div",{className:"postBottomLeft",children:[Object(f.jsx)(E.a,Object(l.a)(Object(l.a)({},ae),{},{className:"likeIcon",onClick:ee})),Object(f.jsxs)("span",{className:"postLikeCounter",onClick:function(){Y(!0)},style:{cursor:"pointer"},children:[null===(O=e.post)||void 0===O?void 0:O.likes.length," Likes"]})]}),W&&Object(f.jsx)(H,{allLikes:M,setShowLikes:Y}),Object(f.jsx)("div",{className:"postBottomRight",children:Object(f.jsx)(b.b,{to:"/post/".concat(null===(v=e.post)||void 0===v?void 0:v._id),children:Object(f.jsxs)("span",{className:"postCommentText",children:[k.length," comments"]})})})]}),Object(f.jsxs)("div",{className:"comments",children:[Object(f.jsx)("input",{type:"text",value:L,className:"postComment",placeholder:"Add a comment..",onChange:function(e){return _(e.target.value)}}),Object(f.jsx)("button",{variant:"contained",className:"commentButton",onClick:$,children:"Post"})]})]})})}var I=n(175),R=n(176),B=n(87),U=n.n(B);function M(e){return Object(f.jsx)("div",{style:{position:"absolute",zIndex:"1"},children:Object(f.jsx)(U.a,{onEmojiClick:function(t,n){e.handleEmoji(n.emoji)}})})}function z(){var e,t,n,c=Object(a.useContext)(P),s=c.postState,r=c.postDispatch,o=Object(a.useContext)(g).userState,l=Object(a.useState)(!1),i=Object(j.a)(l,2),p=i[0],b=i[1],O=Object(a.useState)(""),v=Object(j.a)(O,2),m=v[0],h=v[1],N=Object(S.b)().enqueueSnackbar,y=Object(a.useState)(null),k=Object(j.a)(y,2),w=k[0],C=k[1];function D(){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/post/getUserPost");case 3:t=e.sent,n=t.data,r({type:"POSTS_LOADED",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var A=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!w){e.next=14;break}return n=new FormData,a=w.name,n.append("profile",w),n.append("name",a),e.prev=6,e.next=9,x.post("/Social-Hunt/api/user/upload",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:if(c=void 0===a?"":"/Social-Hunt/images/".concat(a),e.prev=15,""!==m||void 0!==a){e.next=18;break}return e.abrupt("return",N("Empty Post",{variant:"error"}));case 18:return e.next=20,x.post("/Socail-Hunt/api/post",{content:m,image:c});case 20:N("Posted Successfully",{variant:"success"}),h(""),C(null),D(),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(15),console.log(e.t1);case 29:case"end":return e.stop()}}),e,null,[[6,11],[15,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return D(),function(){r({type:"POST_UNLOADED"}),r({type:"POSTS_UNLOADED"})}}),[]),Object(f.jsx)("div",{className:"CenterBar",children:Object(f.jsxs)("div",{className:"centerWrapper",children:[Object(f.jsx)("div",{className:"share",style:{background:"white"},children:Object(f.jsxs)("div",{className:"shareWrapper",children:[Object(f.jsxs)("div",{className:"shareTop",children:[Object(f.jsx)("img",{className:"shareProfileImg",src:null===(e=o.user)||void 0===e?void 0:e.image,alt:""}),Object(f.jsx)("input",{type:"text",className:"shareInput",placeholder:"What is in your mind",onChange:function(e){return h(e.target.value)},value:m})]}),Object(f.jsx)("span",{className:"badge badge-pill badge-secondary",children:null===w||void 0===w?void 0:w.name}),Object(f.jsx)("hr",{className:"hr"}),Object(f.jsxs)("div",{className:"shareBottom",children:[Object(f.jsxs)("div",{className:"option",children:[Object(f.jsx)("div",{className:"options",children:Object(f.jsxs)("label",{htmlFor:"file",className:"options",children:[Object(f.jsx)(I.a,{htmlColor:"tomato",className:"icon"}),Object(f.jsx)("input",{type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){C(e.target.files[0])},style:{display:"none"}})]})}),Object(f.jsx)("div",{className:"options",children:Object(f.jsx)(R.a,{htmlColor:"goldenrod",className:"icon",onClick:function(){b(!p)}})})]}),Object(f.jsx)("button",{className:"postButton",onClick:A,style:{fontWeight:"bold"},children:"Post"})]})]})}),p&&Object(f.jsx)(M,{handleEmoji:function(e){h((function(t){return t+e}))}}),(null===s||void 0===s||null===(t=s.posts)||void 0===t?void 0:t.length)>0?null===s||void 0===s||null===(n=s.posts)||void 0===n?void 0:n.slice(0).map((function(e){return Object(f.jsx)(F,{post:e},null===e||void 0===e?void 0:e._id)})):Object(f.jsx)("div",{className:"noPost",children:"Follow People to See Their Post Here"})]})})}var q=n(173),G=n(34),W=n(178),Y=n(180),V=n(177),Z=n(181),X=n(183),J=n(185),Q=n(182),K=n(88),$=n.n(K),ee=n(68),te=n.n(ee),ne=n(89),ae=n.n(ne),ce=n(179),se=(n(127),n(67)),re=n.n(se),oe=Object(q.a)((function(e){return{grow:{flexGrow:0,borderBottom:"1px solid rgba(var(--b6a,219,219,219),1)"},menuButton:{marginRight:e.spacing(2)},title:Object(o.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(o.a)({position:"relative",flexGrow:1,borderRadius:e.shape.borderRadius,backgroundColor:Object(G.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(o.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(o.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(o.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),topBar:{display:"flex",backgroundColor:"#fff",color:"black",boxShadow:"none",borderBottom:"1px solid rgba(var(--b6a,219,219,219),1)"}}}));function le(){var e,t=oe(),n=Object(p.g)(),s=c.a.useState(null),r=Object(j.a)(s,2),o=r[0],l=r[1],i=c.a.useState(null),O=Object(j.a)(i,2),v=O[0],m=O[1],h=Object(a.useContext)(g),N=h.userState,S=h.userDispatch,y=Object(a.useState)(""),k=Object(j.a)(y,2),w=k[0],C=k[1],D=Object(a.useState)([]),E=Object(j.a)(D,2),A=E[0],L=E[1],_=Boolean(o),P=Boolean(v),T=function(e){l(e.currentTarget)},H=function(){m(null)};Object(a.useEffect)((function(){var e=!0;function t(){return(t=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("/Social-Hunt/api/user");case 3:n=t.sent,a=n.data,e&&(S({type:"USERS_LOADED",payload:a}),L([a])),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]);var F="primary-search-account-menu",I=Object(f.jsxs)(Q.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:F,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:_,onClose:function(){l(null),H()},children:[Object(f.jsx)(J.a,{onClick:function(){n.push("/profile")},children:"Profile"}),Object(f.jsx)(J.a,{onClick:function(){localStorage.removeItem("auth-token"),S({type:"LOGOUT_USER"}),n.push("/landing")},children:"Logout"})]}),R="primary-search-account-menu-mobile",B=Object(f.jsxs)(Q.a,{anchorEl:v,anchorOrigin:{vertical:"top",horizontal:"right"},id:R,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:P,onClose:H,children:[Object(f.jsxs)(J.a,{onClick:function(){n.push("/")},children:[Object(f.jsx)(V.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(f.jsx)(re.a,{})}),Object(f.jsx)("p",{children:"Home"})]}),Object(f.jsxs)(J.a,{onClick:T,children:[Object(f.jsx)(V.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(f.jsx)(te.a,{})}),Object(f.jsx)("p",{children:"Profile"})]})]});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:t.grow,children:[Object(f.jsx)(W.a,{position:"fixed",className:t.topBar,children:Object(f.jsx)(ce.a,{maxWidth:"md",children:Object(f.jsxs)(Y.a,{children:[Object(f.jsx)(V.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){n.push("/")},children:Object(f.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(f.jsx)(Z.a,{className:t.title,variant:"h6",noWrap:!0,children:"Social-Hunt"}),N.authenticated&&Object(f.jsxs)("div",{className:t.search,children:[Object(f.jsx)("div",{className:t.searchIcon,children:Object(f.jsx)($.a,{})}),Object(f.jsx)(X.a,{placeholder:"Search people\u2026",classes:{root:t.inputRoot,input:t.inputInput},onChange:function(e){C(e.target.value)},inputProps:{"aria-label":"search"}})]}),Object(f.jsx)("div",{className:t.grow}),Object(f.jsxs)("div",{className:t.sectionDesktop,children:[N.authenticated&&Object(f.jsx)(V.a,{"aria-label":"show 4 new mails",color:"inherit",onClick:function(){n.push("/")},children:Object(f.jsx)(re.a,{})}),N.authenticated&&Object(f.jsx)(V.a,{edge:"end","aria-label":"account of current user","aria-controls":F,"aria-haspopup":"true",onClick:T,color:"inherit",children:Object(f.jsx)(te.a,{})})]}),N.authenticated&&Object(f.jsx)("div",{className:t.sectionMobile,children:Object(f.jsx)(V.a,{"aria-label":"show more","aria-controls":R,"aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit",children:Object(f.jsx)(ae.a,{})})})]})})}),B,I]}),Object(f.jsx)("div",{className:"users",children:w&&(null===(e=A[0])||void 0===e?void 0:e.user.filter((function(e){return""===w||e.name.toLowerCase().includes(w.toLowerCase()),e})).filter((function(e){return e._id!==N.user._id})).map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(b.b,{to:"/userProfile/".concat(e._id),children:Object(f.jsxs)("div",{className:"searchUser",style:{color:"blue",display:"flex"},children:[Object(f.jsx)("img",{className:"postTopImg",src:e.image,alt:""}),Object(f.jsx)("p",{className:"diffUser",children:e.name})]})}),Object(f.jsx)("hr",{className:"userLine"})]},t)})))})]})}function ie(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(le,{}),Object(f.jsx)(z,{})]})}var ue=function(e){var t,n,c,s,r,i=e.setOpen,p=Object(a.useContext)(g),b=p.userState,O=p.userDispatch,v=Object(S.b)().enqueueSnackbar,m=Object(a.useState)(null),h=Object(j.a)(m,2),N=h[0],y=h[1],k=Object(a.useState)({name:null===(t=b.user)||void 0===t?void 0:t.name,city:(null===(n=b.user)||void 0===n?void 0:n.city)||"",bio:(null===(c=b.user)||void 0===c?void 0:c.bio)||"",gender:(null===(s=b.user)||void 0===s?void 0:s.gender)||""}),w=Object(j.a)(k,2),C=w[0],D=w[1],E=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c,s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!N){e.next=14;break}return n=new FormData,a=N.name,n.append("profile",N),n.append("name",a),e.prev=6,e.next=9,x.post("/Social-Hunt/api/user/upload",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:return c=void 0===a?b.user.image:"/Social-Hunt/images/".concat(a),e.prev=15,e.next=18,x.put("/Social-Hunt/api/user/update",Object(l.a)(Object(l.a)({},C),{},{image:c}));case 18:s=e.sent,r=s.data,localStorage.removeItem("auth-token"),o=r.accessToken,localStorage.setItem("auth-token",o),O({type:"UPDATE_USER",payload:r}),v("Profile Updated Successfully",{variant:"success"}),i(!1),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(15),console.log(e.t1),v("Invalid credentials",{variant:"error"});case 32:case"end":return e.stop()}}),e,null,[[6,11],[15,28]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){D((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.target.name,e.target.value))}))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"edit_profile",children:[Object(f.jsx)("button",{className:"btn btn-danger btn_close",style:{marginTop:"10%"},onClick:function(){return i(!1)},children:"Close"}),Object(f.jsxs)("form",{onSubmit:E,style:{marginTop:"5%"},children:[Object(f.jsxs)("div",{className:"info_avatar",children:[Object(f.jsx)("img",{src:null===(r=b.user)||void 0===r?void 0:r.image,alt:""}),Object(f.jsxs)("span",{children:[Object(f.jsx)("i",{className:"fas fa-camera"}),Object(f.jsx)("p",{children:"Change"}),Object(f.jsx)("input",{type:"file",name:"image",id:"file_up",accept:"image/*",onChange:function(e){return y(e.target.files[0])}})]})]}),Object(f.jsx)("span",{className:"badge badge-pill badge-secondary",children:null===N||void 0===N?void 0:N.name}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"name",children:"Name"}),Object(f.jsxs)("div",{className:"position-relative",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",onChange:A,value:C.name}),Object(f.jsx)("small",{className:"text-danger position-absolute",style:{top:"50%",right:"5px",transform:"translateY(-50%)"}})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"City",children:"City"}),Object(f.jsx)("input",{type:"text",name:"city",className:"form-control",onChange:A,value:C.city})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"Bio",children:"Bio"}),Object(f.jsx)("textarea",{name:"bio",cols:"30",rows:"4",className:"form-control",onChange:A,value:C.bio})]}),Object(f.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(f.jsx)("div",{className:"input-group-prepend px-0 mb-4",children:Object(f.jsxs)("select",{name:"gender",id:"gender",className:"custom-select text-capitalize",value:C.gender,onChange:A,children:[Object(f.jsx)("option",{value:"male",children:"Male"}),Object(f.jsx)("option",{value:"female",children:"Female"}),Object(f.jsx)("option",{value:"other",children:"Other"})]})}),Object(f.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"Save"})]})]})})},de=function(e){var t=e.setShowFollowers,n=e.setShowFollowing,a=e.allFollowers,c=e.allFollowing;return Object(f.jsx)("div",{className:"d-flex p-2  w-100 card",children:Object(f.jsx)("div",{children:Object(f.jsxs)("div",{onClick:function(){t&&t(!1),n&&n(!1)},children:[null===a||void 0===a?void 0:a.slice(0).map((function(e,t){return Object(f.jsxs)("div",{className:"d-flex align-items-center mt-3 ",children:[Object(f.jsx)("img",{src:e.user.image,alt:"",className:"big-avatar"}),Object(f.jsxs)("div",{className:"ml-1",style:{transform:"translateY(-2px)"},children:[Object(f.jsx)("span",{className:"d-block",children:e.user.name}),Object(f.jsx)("small",{style:{opacity:.7}})]})]},t)})),null===c||void 0===c?void 0:c.slice(0).map((function(e,t){return Object(f.jsxs)("div",{className:"d-flex align-items-center mt-3 ",children:[Object(f.jsx)("img",{src:e.user.image,alt:"",className:"big-avatar"}),Object(f.jsxs)("div",{className:"ml-1",style:{transform:"translateY(-2px)"},children:[Object(f.jsx)("span",{className:"d-block",children:e.user.name}),Object(f.jsx)("small",{style:{opacity:.7}})]})]},t)}))]})})})},je=function(e){var t=e.setShowFollowers,n=Object(a.useState)(null),c=Object(j.a)(n,2),s=c[0],r=c[1],o=Object(a.useContext)(g).userState;function l(){return(l=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/user/followers/".concat(o.user._id));case 3:t=e.sent,n=t.data,r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),Object(f.jsx)("div",{className:"follow",children:Object(f.jsxs)("div",{className:"follow_box",children:[Object(f.jsx)("h5",{className:"text-center",children:"Followers"}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"follow_content",children:Object(f.jsx)(de,{setShowFollowers:t,allFollowers:s})}),Object(f.jsx)("div",{className:"close",onClick:function(){return t(!1)},children:"\xd7"})]})})},pe=function(e){var t=e.setShowFollowing,n=Object(a.useState)(null),c=Object(j.a)(n,2),s=c[0],r=c[1],o=Object(a.useContext)(g).userState;function l(){return(l=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/user/following/".concat(o.user._id));case 3:t=e.sent,n=t.data,r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),Object(f.jsx)("div",{className:"follow",children:Object(f.jsxs)("div",{className:"follow_box",children:[Object(f.jsx)("h5",{className:"text-center",children:"Following"}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"follow_content",children:Object(f.jsx)(de,{setShowFollowing:t,allFollowing:s})}),Object(f.jsx)("div",{className:"close",onClick:function(){return t(!1)},children:"\xd7"})]})})},be=function(){var e,t,n,c,s=Object(a.useContext)(g).userState,r=Object(a.useState)(!1),o=Object(j.a)(r,2),l=o[0],i=o[1],p=Object(a.useState)(!1),b=Object(j.a)(p,2),O=b[0],v=b[1],m=Object(a.useState)(!1),h=Object(j.a)(m,2),N=h[0],S=h[1],y=Object(a.useState)(null),k=Object(j.a)(y,2),w=k[0],C=k[1];function D(){return(D=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/user/particularUser/".concat(null===(t=s.user)||void 0===t?void 0:t._id));case 3:n=e.sent,a=n.data,C(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(){D.apply(this,arguments)}(),function(){C(null)}}),[s.user]),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{className:"info_container",children:[Object(f.jsx)("img",{src:null===(e=s.user)||void 0===e?void 0:e.image,alt:"hello",className:"supper-avatar"}),Object(f.jsxs)("div",{className:"info_content",children:[Object(f.jsxs)("div",{className:"info_content_title",children:[Object(f.jsx)("h2",{children:null===(t=s.user)||void 0===t?void 0:t.name}),Object(f.jsx)("button",{className:"btn btn-outline-info",onClick:function(){i(!0)},children:"Edit Profile"})]}),Object(f.jsxs)("div",{className:"follow_btn",children:[Object(f.jsxs)("span",{className:"mr-4",onClick:function(){return v(!0)},children:[null===w||void 0===w?void 0:w.followers.length," Followers"]}),Object(f.jsxs)("span",{className:"ml-4",onClick:function(){return S(!0)},children:[null===w||void 0===w?void 0:w.following.length," Following"]})]}),Object(f.jsxs)("h6",{children:[null===(n=s.user)||void 0===n?void 0:n.city,Object(f.jsx)("span",{className:"text-danger"})]}),Object(f.jsx)("p",{className:"m-0",children:null===(c=s.user)||void 0===c?void 0:c.bio})]}),l&&Object(f.jsx)(ue,{setOpen:i})]}),O&&Object(f.jsx)(je,{setShowFollowers:v}),N&&Object(f.jsx)(pe,{setShowFollowing:S})]})};function Oe(e){var t,n,c,s,r,o,i,p,O,v,m,h=Object(a.useContext)(P).postDispatch,N=Object(a.useContext)(g).userState,y=Object(a.useState)(0),k=Object(j.a)(y,2),w=k[0],C=k[1],D=Object(a.useState)(!1),A=Object(j.a)(D,2),L=A[0],_=A[1],T=Object(S.b)().enqueueSnackbar,F=Object(a.useState)(""),I=Object(j.a)(F,2),R=I[0],B=I[1],U=Object(a.useState)(!1),M=Object(j.a)(U,2),z=M[0],q=M[1],G=Object(a.useState)([]),W=Object(j.a)(G,2),Y=W[0],V=W[1],Z=Object(a.useState)(!1),X=Object(j.a)(Z,2),J=X[0],Q=X[1];function K(){return $.apply(this,arguments)}function $(){return($=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/post/personalPost");case 3:t=e.sent,n=t.data,h({type:"POSTS_LOADED",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("/Social-Hunt/api/comment/".concat(e.post._id));case 3:n=t.sent,a=n.data,h({type:"COMMENTS_LOADED",payload:a}),C(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function ne(){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("/Social-Hunt/api/post/getlikes/".concat(e.post._id));case 3:n=t.sent,a=n.data,V([a]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var ce=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,""!==R){t.next=4;break}return t.abrupt("return",T("Empty Comment",{variant:"error"}));case 4:return t.next=6,x.post("/Social-Hunt/api/comment/".concat(e.post._id),{comment:R});case 6:a=t.sent,c=a.data,h({type:"POST_COMMENTS",payload:c}),ee(),T("Posted Successfully",{variant:"success"}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),se=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,x.put("/Social-Hunt/api/post/likes/".concat(e.post._id));case 4:c=t.sent,s=c.data,h({type:"POST_LOADED",payload:s}),q(!0),0!==(null===(a=e.post)||void 0===a?void 0:a.likes.filter((function(e){var t;return e.user===(null===(t=N.user)||void 0===t?void 0:t._id)}))).length&&q(!1),K(),ne(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,x.delete("/Social-Hunt/api/post/".concat(e.post._id));case 4:K(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var t=!0;function n(){return(n=Object(d.a)(u.a.mark((function n(){var a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.get("/Social-Hunt/api/comment/".concat(e.post._id));case 3:a=n.sent,c=a.data,t&&(h({type:"COMMENTS_LOADED",payload:c}),C(c)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}function a(){return(a=Object(d.a)(u.a.mark((function n(){var a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.get("/Social-Hunt/api/post/getlikes/".concat(e.post._id));case 3:a=n.sent,c=a.data,t&&V([c]),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){a.apply(this,arguments)}(),function(){h({type:"COMMENTS_UNLOADED"}),t=!1}}),[]);var oe=new Date(null===(t=e.post)||void 0===t?void 0:t.createdAt).toLocaleString("default",{month:"short"}),le=null===(n=e.post)||void 0===n?void 0:n.likes.filter((function(e){var t;return e.user===(null===(t=N.user)||void 0===t?void 0:t._id)})),ie=0!==(null===le||void 0===le?void 0:le.length)||z?{htmlColor:"red"}:{htmlColor:"grey"},ue=new Date(null===(c=e.post)||void 0===c?void 0:c.createdAt).getDate();return Object(f.jsx)("div",{className:"post",style:{background:"white"},children:Object(f.jsxs)("div",{className:"postWrapper",children:[Object(f.jsxs)("div",{className:"postTop",children:[Object(f.jsxs)("div",{className:"postTopLeft",children:[Object(f.jsx)("img",{className:"postTopImg",src:null===(s=N.user)||void 0===s?void 0:s.image,alt:""}),Object(f.jsx)("span",{className:"postUser",children:null===(r=e.post)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.name}),Object(f.jsx)("span",{className:"postDate",children:"".concat(oe," ").concat(ue)})]}),Object(f.jsx)("div",{className:"postTopRight",children:Object(f.jsx)("i",{className:"fas fa-ellipsis-v",onClick:function(){_(!L)},style:{cursor:"pointer"},children:L&&Object(f.jsx)("div",{className:"dropDown",children:Object(f.jsx)("ul",{children:Object(f.jsx)("li",{onClick:re,children:"Delete"})})})})})]}),Object(f.jsxs)("div",{className:"postCenter",children:[Object(f.jsx)("span",{className:"text",children:null===(i=e.post)||void 0===i?void 0:i.content}),(null===(p=e.post)||void 0===p?void 0:p.image)&&Object(f.jsx)("img",{src:null===(O=e.post)||void 0===O?void 0:O.image,alt:"",className:"postImg"})]}),Object(f.jsxs)("div",{className:"postBottom",children:[Object(f.jsxs)("div",{className:"postBottomLeft",children:[Object(f.jsx)(E.a,Object(l.a)(Object(l.a)({},ie),{},{className:"likeIcon",onClick:se})),Object(f.jsxs)("span",{className:"postLikeCounter",onClick:function(){Q(!0)},style:{cursor:"pointer"},children:[null===(v=e.post)||void 0===v?void 0:v.likes.length," Likes"]})]}),J&&Object(f.jsx)(H,{allLikes:Y,setShowLikes:Q}),Object(f.jsx)("div",{className:"postBottomRight",children:Object(f.jsx)(b.b,{to:"/post/".concat(null===(m=e.post)||void 0===m?void 0:m._id),children:Object(f.jsxs)("span",{className:"postCommentText",children:[null===w||void 0===w?void 0:w.length," comments"]})})})]}),Object(f.jsxs)("div",{className:"comments",children:[Object(f.jsx)("input",{type:"text",value:R,className:"postComment",placeholder:"Add a comment..",onChange:function(e){return B(e.target.value)}}),Object(f.jsx)("button",{variant:"contained",className:"commentButton",onClick:ce,children:"Post"})]})]})})}function ve(){var e,t,n=Object(a.useContext)(P),c=n.postState,s=n.postDispatch,r=Object(a.useContext)(g).userState,o=Object(a.useState)(!1),l=Object(j.a)(o,2),i=l[0],p=l[1],b=Object(a.useState)(""),O=Object(j.a)(b,2),v=O[0],m=O[1],h=Object(S.b)().enqueueSnackbar,N=Object(a.useState)(null),y=Object(j.a)(N,2),k=y[0],w=y[1];function C(){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/post/personalPost");case 3:t=e.sent,n=t.data,s({type:"POSTS_LOADED",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var E=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.preventDefault(),!k){e.next=16;break}return n=new FormData,a=k.name,console.log(a),n.append("profile",k),n.append("name",a),e.prev=8,e.next=11,x.post("/Social-Hunt/api/user/upload",n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log(e.t0);case 16:if(c=void 0===a?"":"/Social-Hunt/images/".concat(a),e.prev=17,""!==v||void 0!==a){e.next=20;break}return e.abrupt("return",h("Empty Post",{variant:"error"}));case 20:return e.next=22,x.post("/api/post",{content:v,image:c});case 22:r=e.sent,o=r.data,s({type:"ADD_POST",payload:o}),h("Posted Successfully",{variant:"success"}),m(""),C(),w(null),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(17),console.log(e.t1);case 34:case"end":return e.stop()}}),e,null,[[8,13],[17,31]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return C(),function(){s({type:"POST_UNLOADED"}),s({type:"POSTS_UNLOADED"})}}),[]),Object(f.jsx)("div",{className:"CenterBar",children:Object(f.jsxs)("div",{className:"centerWrapper",children:[Object(f.jsx)("div",{className:"sharePersonal",style:{background:"white"},children:Object(f.jsxs)("div",{className:"shareWrapper",children:[Object(f.jsxs)("div",{className:"shareTop",children:[Object(f.jsx)("img",{className:"shareProfileImg",src:null===(e=r.user)||void 0===e?void 0:e.image,alt:""}),Object(f.jsx)("input",{type:"text",className:"shareInput",placeholder:"What is in your mind",onChange:function(e){return m(e.target.value)},value:v})]}),Object(f.jsx)("span",{className:"badge badge-pill badge-secondary",children:null===k||void 0===k?void 0:k.name}),Object(f.jsx)("hr",{className:"hr"}),Object(f.jsxs)("div",{className:"shareBottom",children:[Object(f.jsxs)("div",{className:"option",children:[Object(f.jsx)("div",{className:"options",children:Object(f.jsxs)("label",{htmlFor:"file",className:"options",children:[Object(f.jsx)(I.a,{htmlColor:"tomato",className:"icon"}),Object(f.jsx)("input",{type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){return w(e.target.files[0])},style:{display:"none"}})]})}),Object(f.jsx)("div",{className:"options",children:Object(f.jsx)(R.a,{htmlColor:"goldenrod",className:"icon",onClick:function(){p(!i)}})})]}),Object(f.jsx)("button",{className:"postButton",onClick:E,style:{fontWeight:"bold"},children:"Post"})]})]})}),i&&Object(f.jsx)(M,{handleEmoji:function(e){m((function(t){return t+e}))}}),null===c||void 0===c||null===(t=c.posts)||void 0===t?void 0:t.slice(0).map((function(e){return Object(f.jsx)(Oe,{post:e},null===e||void 0===e?void 0:e._id)}))]})})}var me=function(){return Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)(le,{}),Object(f.jsx)(be,{}),Object(f.jsx)("div",{className:"profile_tab",children:Object(f.jsx)("button",{children:"Your Posts"})}),Object(f.jsx)(ve,{})]})};n(129),n(130),n(131),n(132);function he(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(le,{}),Object(f.jsx)("h1",{className:"introText",children:"Share your Content with Everyone"}),Object(f.jsx)("h6",{className:"intro",children:"An Application to post your thoughts and memories"}),Object(f.jsx)("div",{className:"appButton",children:Object(f.jsx)(b.b,{to:"/signup",children:Object(f.jsx)("button",{className:"button",children:Object(f.jsx)("span",{children:"Get Started"})})})}),Object(f.jsxs)("p",{className:"login",children:["Already have a Account? ",Object(f.jsx)(b.b,{to:"/login",children:Object(f.jsx)("span",{className:"loginLink",children:"Login"})})]}),Object(f.jsx)("section",{id:"services",className:"section",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-lg-4 col-md-6 col-xs-12",children:Object(f.jsxs)("div",{className:"services-item text-center",children:[Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("i",{className:"lni-cog"})}),Object(f.jsx)("h4",{children:"Sharing post"}),Object(f.jsx)("p",{children:"Share your Content by creating a post which can have image and also emoji attached to it"})]})}),Object(f.jsx)("div",{className:"col-lg-4 col-md-6 col-xs-12",children:Object(f.jsxs)("div",{className:"services-item text-center",children:[Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("i",{className:"lni-brush"})}),Object(f.jsx)("h4",{children:"Follow and Unfollow"}),Object(f.jsx)("p",{children:"Follow or unfollow a particular user and also see the post of the person who he/she follows"})]})}),Object(f.jsx)("div",{className:"col-lg-4 col-md-6 col-xs-12",children:Object(f.jsxs)("div",{className:"services-item text-center",children:[Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("i",{className:"lni-heart"})}),Object(f.jsx)("h4",{children:"Like and Comment"}),Object(f.jsx)("p",{children:"Like and Comment to a post and also see all the likes and comments of that particular post"})]})})]})})})]})}n(133),n(134);function xe(e){var t=new Date(e.comment.createdAt).toLocaleString("default",{month:"short"}),n=new Date(e.comment.createdAt).getDate();return Object(f.jsxs)("div",{className:"reviewCard",children:[Object(f.jsx)("h5",{children:e.comment.user.name}),Object(f.jsxs)("p",{style:{marginTop:"0",marginBottom:"0"},className:"comment",children:["Comment: ",e.comment.comment]}),Object(f.jsx)("p",{style:{marginBottom:"0"},children:"".concat(t," ").concat(n)})]})}function fe(){var e,t,n,c=Object(p.h)(),s=Object(a.useContext)(g).userState,r=Object(a.useState)(null),o=Object(j.a)(r,2),i=o[0],b=o[1],O=Object(a.useState)([]),v=Object(j.a)(O,2),m=v[0],h=v[1],N=Object(S.b)().enqueueSnackbar,y=Object(a.useContext)(P).postDispatch,k=Object(a.useState)(!1),w=Object(j.a)(k,2),C=w[0],D=w[1],A=Object(a.useState)(""),L=Object(j.a)(A,2),_=L[0],T=L[1],F=Object(a.useState)([]),I=Object(j.a)(F,2),R=I[0],B=I[1],U=Object(a.useState)(!1),M=Object(j.a)(U,2),z=M[0],q=M[1],G=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.postId,e.next=4,x.get("/Social-Hunt/api/post/".concat(t));case 4:n=e.sent,b(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.postId,e.next=4,x.get("/Social-Hunt/api/comment/".concat(t));case 4:n=e.sent,h([n.data]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();function Y(){return V.apply(this,arguments)}function V(){return(V=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/Social-Hunt/api/post/getlikes/".concat(c.postId));case 3:t=e.sent,n=t.data,B([n]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Z=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.put("/Social-Hunt/api/post/likes/".concat(c.postId));case 4:n=e.sent,a=n.data,y({type:"POST_LOADED",payload:a}),D(!0),0!==(null===i||void 0===i?void 0:i.likes.filter((function(e){var t;return e.user===(null===(t=s.user)||void 0===t?void 0:t._id)}))).length&&D(!1),G(),Y(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,""!==_){e.next=4;break}return e.abrupt("return",N("Empty Comment",{variant:"error"}));case 4:return n=c.postId,e.next=7,x.post("/Social-Hunt/api/comment/".concat(n),{comment:_});case 7:a=e.sent,s=a.data,y({type:"POST_COMMENTS",payload:s}),W(),N("Posted Successfully",{variant:"success"}),T(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return G(),W(),Y(),function(){y({type:"COMMENTS_UNLOADED"}),y({type:"POST_UNLOADED"})}}),[]);var J=new Date(null===i||void 0===i?void 0:i.createdAt).toLocaleString("default",{month:"short"}),Q=null===(e=R[0])||void 0===e?void 0:e.filter((function(e){var t;return e.user._id===(null===(t=s.user)||void 0===t?void 0:t._id)})),K=0!==(null===Q||void 0===Q?void 0:Q.length)||C?{htmlColor:"red"}:{htmlColor:"grey"},$=new Date(null===i||void 0===i?void 0:i.createdAt).getDate();return Object(f.jsxs)("div",{children:[Object(f.jsx)(le,{}),Object(f.jsx)("div",{className:"singlePost",style:{background:"white"},children:Object(f.jsxs)("div",{className:"postWrapperSingle",children:[Object(f.jsx)("div",{className:"postTop",children:Object(f.jsxs)("div",{className:"postTopLeft",children:[Object(f.jsx)("img",{className:"postTopImg",src:null===i||void 0===i?void 0:i.user.image,alt:""}),Object(f.jsx)("span",{className:"postUser",children:null===i||void 0===i?void 0:i.user.name}),Object(f.jsx)("span",{className:"postDate",children:"".concat(J," ").concat($)})]})}),Object(f.jsxs)("div",{className:"postCenter",children:[Object(f.jsx)("span",{className:"text",children:null===i||void 0===i?void 0:i.content}),(null===i||void 0===i?void 0:i.image)&&Object(f.jsx)("img",{src:null===i||void 0===i?void 0:i.image,alt:"",className:"postImg"})]}),Object(f.jsxs)("div",{className:"postBottom",children:[Object(f.jsxs)("div",{className:"postBottomLeft",children:[Object(f.jsx)(E.a,Object(l.a)(Object(l.a)({},K),{},{className:"likeIcon",onClick:Z})),Object(f.jsxs)("span",{className:"postLikeCounter",onClick:function(){q(!0)},style:{cursor:"pointer"},children:[null===i||void 0===i?void 0:i.likes.length," Likes"]}),z&&Object(f.jsx)(H,{allLikes:R,setShowLikes:q})]}),Object(f.jsx)("div",{className:"postBottomRight",children:Object(f.jsxs)("span",{className:"postCommentText",children:[null===(t=m[0])||void 0===t?void 0:t.length," comments"]})})]}),Object(f.jsxs)("div",{className:"comments",children:[Object(f.jsx)("input",{type:"text",className:"postComment",placeholder:"Add a comment..",onChange:function(e){return T(e.target.value)},value:_}),Object(f.jsx)("button",{variant:"contained",className:"commentButton",onClick:X,children:"Post"})]})]})}),Object(f.jsx)("h4",{style:{marginLeft:"20%"},className:"postComments",children:"Post Comments"}),null===(n=m[0])||void 0===n?void 0:n.slice(0).map((function(e){return Object(f.jsx)(xe,{comment:e},e._id)}))]})}var ge=function(e){var t=e.setShowFollowers,n=e.setShowFollowing,a=e.allFollowers,c=e.allFollowing;return Object(f.jsx)("div",{className:"d-flex p-2  w-100 card",children:Object(f.jsx)("div",{children:Object(f.jsxs)("div",{onClick:function(){t&&t(!1),n&&n(!1)},children:[null===a||void 0===a?void 0:a.slice(0).map((function(e,t){return Object(f.jsx)(b.b,{to:"/userProfile/".concat(e.user._id),children:Object(f.jsxs)("div",{className:"d-flex align-items-center mt-3 ",children:[Object(f.jsx)("img",{src:e.user.image,alt:"",className:"big-avatar"}),Object(f.jsxs)("div",{className:"ml-1",style:{transform:"translateY(-2px)"},children:[Object(f.jsx)("span",{className:"d-block",children:e.user.name}),Object(f.jsx)("small",{style:{opacity:.7}})]})]})},t)})),null===c||void 0===c?void 0:c.slice(0).map((function(e,t){return Object(f.jsx)(b.b,{to:"/userProfile/".concat(e.user._id),children:Object(f.jsxs)("div",{className:"d-flex align-items-center mt-3 ",children:[Object(f.jsx)("img",{src:e.user.image,alt:"",className:"big-avatar"}),Object(f.jsxs)("div",{className:"ml-1",style:{transform:"translateY(-2px)"},children:[Object(f.jsx)("span",{className:"d-block",children:e.user.name}),Object(f.jsx)("small",{style:{opacity:.7}})]})]})},t)}))]})})})},Ne=function(e){var t=e.setShowFollowers,n=Object(a.useState)(null),c=Object(j.a)(n,2),s=c[0],r=c[1],o=Object(p.h)();function l(){return(l=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=o.userId,e.next=4,x.get("/Social-Hunt/api/user/followers/".concat(t));case 4:n=e.sent,a=n.data,r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[o.userId]),Object(f.jsx)("div",{className:"follow",children:Object(f.jsxs)("div",{className:"follow_box",children:[Object(f.jsx)("h5",{className:"text-center",children:"Followers"}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"follow_content",children:Object(f.jsx)(ge,{setShowFollowers:t,allFollowers:s})}),Object(f.jsx)("div",{className:"close",onClick:function(){return t(!1)},children:"\xd7"})]})})},Se=function(e){var t=e.setShowFollowing,n=Object(a.useState)(null),c=Object(j.a)(n,2),s=c[0],r=c[1],o=Object(p.h)();function l(){return(l=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=o.userId,e.next=4,x.get("/Social-Hunt/api/user/following/".concat(t));case 4:n=e.sent,a=n.data,r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[o.userId]),Object(f.jsx)("div",{className:"follow",children:Object(f.jsxs)("div",{className:"follow_box",children:[Object(f.jsx)("h5",{className:"text-center",children:"Following"}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"follow_content",children:Object(f.jsx)(ge,{setShowFollowing:t,allFollowing:s})}),Object(f.jsx)("div",{className:"close",onClick:function(){return t(!1)},children:"\xd7"})]})})},ye=function(){var e,t=Object(p.h)(),n=Object(a.useContext)(g).userState,c=Object(a.useState)(null),s=Object(j.a)(c,2),r=s[0],o=s[1],l=Object(a.useState)(!1),i=Object(j.a)(l,2),b=i[0],O=i[1],v=Object(a.useState)(!1),m=Object(j.a)(v,2),h=m[0],N=m[1];function S(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(u.a.mark((function e(){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.userId,e.next=4,x.get("/Social-Hunt/api/user/particularUser/".concat(n));case 4:a=e.sent,c=a.data,o(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var k=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.userId,e.next=4,x.put("/Social-Hunt/api/user/follow",{_id:n});case 4:S(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.userId,e.next=4,x.put("/Social-Hunt/api/user/unfollow",{_id:n});case 4:S(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return S(),function(){o(null)}}),[t.userId]);var C=null===r||void 0===r||null===(e=r.followers)||void 0===e?void 0:e.filter((function(e){var t;return e.user===(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t._id)}));return Object(f.jsx)("div",{className:"info",children:Object(f.jsxs)("div",{className:"info_container",children:[Object(f.jsx)("img",{src:null===r||void 0===r?void 0:r.image,className:"supper-avatar",alt:""}),Object(f.jsxs)("div",{className:"info_content",children:[Object(f.jsxs)("div",{className:"info_content_title",children:[Object(f.jsx)("h2",{children:null===r||void 0===r?void 0:r.name}),Object(f.jsx)("div",{children:(null===C||void 0===C?void 0:C.length)?Object(f.jsx)("button",{className:"btn btn-outline-danger",onClick:w,children:"UnFollow"}):Object(f.jsx)("button",{className:"btn btn-outline-info",onClick:k,children:"Follow"})})]}),Object(f.jsxs)("div",{className:"follow_btn",children:[Object(f.jsxs)("span",{className:"mr-4",onClick:function(){return O(!0)},children:[null===r||void 0===r?void 0:r.followers.length," Followers"]}),Object(f.jsxs)("span",{className:"ml-4",onClick:function(){return N(!0)},children:[null===r||void 0===r?void 0:r.following.length," Following"]})]}),(null===r||void 0===r?void 0:r.city)&&Object(f.jsxs)("h6",{children:[null===r||void 0===r?void 0:r.city,Object(f.jsx)("span",{className:"text-danger"})]}),(null===r||void 0===r?void 0:r.bio)&&Object(f.jsx)("p",{className:"m-0",children:null===r||void 0===r?void 0:r.bio})]}),b&&Object(f.jsx)(Ne,{setShowFollowers:O}),h&&Object(f.jsx)(Se,{setShowFollowing:N})]})})};function ke(e){var t,n,c,s,r,o,i,O,v,m,h=Object(a.useContext)(P).postDispatch,N=Object(a.useContext)(g).userState,y=Object(a.useState)(0),k=Object(j.a)(y,2),w=k[0],C=k[1],D=Object(S.b)().enqueueSnackbar,A=Object(a.useState)(""),L=Object(j.a)(A,2),_=L[0],T=L[1],F=Object(a.useState)(!1),I=Object(j.a)(F,2),R=I[0],B=I[1],U=Object(a.useState)([]),M=Object(j.a)(U,2),z=M[0],q=M[1],G=Object(a.useState)(!1),W=Object(j.a)(G,2),Y=W[0],V=W[1],Z=Object(p.h)();function X(){return J.apply(this,arguments)}function J(){return(J=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Z.userId,e.next=4,x.get("/Social-Hunt/api/post/user/".concat(t));case 4:n=e.sent,a=n.data,h({type:"POSTS_LOADED",payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Q(){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("/Social-Hunt/api/comment/".concat(e.post._id));case 3:n=t.sent,a=n.data,h({type:"COMMENTS_LOADED",payload:a}),C(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("/Social-Hunt/api/post/getlikes/".concat(e.post._id));case 3:n=t.sent,a=n.data,q([a]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var te=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""!==_){t.next=3;break}return t.abrupt("return",D("Empty Comment",{variant:"error"}));case 3:return t.next=5,x.post("/Social-Hunt/api/comment/".concat(e.post._id),{comment:_});case 5:a=t.sent,c=a.data,h({type:"POST_COMMENTS",payload:c}),Q(),D("Posted Successfully",{variant:"success"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),ne=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,x.put("/Social-Hunt/api/post/likes/".concat(e.post._id));case 4:c=t.sent,s=c.data,h({type:"POST_LOADED",payload:s}),B(!0),0!==(null===(a=e.post)||void 0===a?void 0:a.likes.filter((function(e){var t;return e.user===(null===(t=N.user)||void 0===t?void 0:t._id)}))).length&&B(!1),X(),$(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){return Q(),$(),function(){h({type:"COMMENTS_UNLOADED"})}}),[]);var ae=new Date(null===(t=e.post)||void 0===t?void 0:t.createdAt).toLocaleString("default",{month:"short"}),ce=null===e||void 0===e||null===(n=e.post)||void 0===n?void 0:n.likes.filter((function(e){var t;return e.user===(null===(t=N.user)||void 0===t?void 0:t._id)})),se=0!==(null===ce||void 0===ce?void 0:ce.length)||R?{htmlColor:"red"}:{htmlColor:"grey"},re=new Date(null===(c=e.post)||void 0===c?void 0:c.createdAt).getDate();return Object(f.jsx)("div",{className:"post",style:{background:"white"},children:Object(f.jsxs)("div",{className:"postWrapper",children:[Object(f.jsx)("div",{className:"postTop",children:Object(f.jsxs)("div",{className:"postTopLeft",children:[Object(f.jsx)("img",{className:"postTopImg",src:null===(s=e.post)||void 0===s||null===(r=s.user)||void 0===r?void 0:r.image,alt:""}),Object(f.jsx)("span",{className:"postUser",children:null===(o=e.post)||void 0===o||null===(i=o.user)||void 0===i?void 0:i.name}),Object(f.jsx)("span",{className:"postDate",children:"".concat(ae," ").concat(re)})]})}),Object(f.jsxs)("div",{className:"postCenter",children:[Object(f.jsx)("span",{className:"text",children:null===e||void 0===e||null===(O=e.post)||void 0===O?void 0:O.content}),(null===e||void 0===e||null===(v=e.post)||void 0===v?void 0:v.image)&&Object(f.jsx)("img",{src:null===e||void 0===e||null===(m=e.post)||void 0===m?void 0:m.image,alt:"",className:"postImg"})]}),Object(f.jsxs)("div",{className:"postBottom",children:[Object(f.jsxs)("div",{className:"postBottomLeft",children:[Object(f.jsx)(E.a,Object(l.a)(Object(l.a)({},se),{},{className:"likeIcon",onClick:ne})),Object(f.jsxs)("span",{className:"postLikeCounter",onClick:function(){V(!0)},style:{cursor:"pointer"},children:[e.post.likes.length," Likes"]})]}),Y&&Object(f.jsx)(H,{allLikes:z,setShowLikes:V}),Object(f.jsx)("div",{className:"postBottomRight",children:Object(f.jsx)(b.b,{to:"/post/".concat(e.post._id),children:Object(f.jsxs)("span",{className:"postCommentText",children:[w.length," comments"]})})})]}),Object(f.jsxs)("div",{className:"comments",children:[Object(f.jsx)("input",{type:"text",value:_,className:"postComment",placeholder:"Add a comment..",onChange:function(e){return T(e.target.value)}}),Object(f.jsx)("button",{variant:"contained",className:"commentButton",onClick:te,children:"Post"})]})]})})}function we(){var e,t,n=Object(p.h)(),c=Object(a.useContext)(P),s=c.postState,r=c.postDispatch;function o(){return(o=Object(d.a)(u.a.mark((function e(){var t,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.userId,e.next=4,x.get("/Social-Hunt/api/post/user/".concat(t));case 4:a=e.sent,c=a.data,r({type:"POSTS_LOADED",payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(){o.apply(this,arguments)}(),function(){r({type:"POSTS_UNLOADED"})}}),[n.userId]),Object(f.jsx)("div",{className:"CenterBar",children:(null===(e=s.posts)||void 0===e?void 0:e.length)>0?Object(f.jsx)("div",{className:"centerWrapper",children:null===(t=s.posts)||void 0===t?void 0:t.slice(0).map((function(e){return Object(f.jsx)(ke,{post:e},null===e||void 0===e?void 0:e._id)}))}):Object(f.jsx)("div",{className:"noPost",children:"No Post Uploaded"})})}var Ce=function(){return Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)(le,{}),Object(f.jsx)(ye,{}),Object(f.jsx)("div",{className:"profile_tab",children:Object(f.jsx)("button",{children:"All Posts"})}),Object(f.jsx)(we,{})]})};n(135);function De(){return Object(f.jsx)(b.a,{children:Object(f.jsx)(b.a,{basename:"/Social-Hunt",children:Object(f.jsx)(N,{children:Object(f.jsx)(T,{children:Object(f.jsxs)(p.d,{children:[Object(f.jsx)(p.b,{exact:!0,path:"/landing",component:he}),Object(f.jsx)(p.b,{exact:!0,path:"/login",component:y}),Object(f.jsx)(p.b,{exact:!0,path:"/signup",component:k}),Object(f.jsx)(D,{exact:!0,path:"/profile",component:me}),Object(f.jsx)(D,{exact:!0,path:"/post/:postId",component:fe}),Object(f.jsx)(D,{exact:!0,path:"/userProfile/:userId",component:Ce}),Object(f.jsx)(D,{exact:!0,path:"/",component:ie})]})})})})})}r.a.render(Object(f.jsx)(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},maxSnack:4,children:Object(f.jsx)(De,{})}),document.getElementById("root"))},45:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},80:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.2f62abcd.chunk.js.map